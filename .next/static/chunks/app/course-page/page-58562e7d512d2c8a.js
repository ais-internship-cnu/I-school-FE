(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{1549:function(e,r,t){Promise.resolve().then(t.bind(t,121))},1291:function(e,r,t){"use strict";var s=t(891);r.Z=void 0;var a=s(t(9438)),n=t(7437);r.Z=(0,a.default)((0,n.jsx)("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"}),"ArrowBackIosNew")},8314:function(e,r,t){"use strict";var s=t(1811);function a(){}function n(){}n.resetWarningCache=a,e.exports=function(){function e(e,r,t,a,n,o){if(o!==s){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function r(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:a};return t.PropTypes=t,t}},4404:function(e,r,t){e.exports=t(8314)()},1811:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},121:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return v}});var s=t(7437),a=t(2265),n=t(8836),o=t(2508),c=t(4404),i=t.n(c),u=t(343);let l=e=>{let{courseName:r,professor:t,rating:a,courseId:n}=e;return(0,s.jsxs)("button",{className:"course-block",onClick:()=>{let e=n.toString()[0];window.location.href="/review-page/".concat(r,"/").concat(t,"/").concat(e)},children:[(0,s.jsx)("h3",{children:r}),(0,s.jsxs)("p",{children:[t," 교수님"]}),(0,s.jsx)("p",{children:(0,s.jsx)(u.Z,{name:"course-rating",value:a,precision:.5,readOnly:!0,sx:{fontSize:"0.8rem"}})})]})};l.propTypes={courseName:i().string.isRequired,professor:i().string.isRequired,rating:i().number.isRequired},t(1296);var d=e=>{let{courses:r}=e;return(0,s.jsx)(o.ZP,{container:!0,direction:"column",spacing:0,children:r.map((e,r)=>(0,s.jsx)(o.ZP,{item:!0,children:(0,s.jsx)(l,{courseName:e.courseName,professor:e.professor,rating:e.rating,courseId:e.courseId})},r))})};let h=e=>{let{placeholder:r,onChange:t,onKeyDown:n,onClick:o}=e,[c,i]=(0,a.useState)("");return(0,s.jsxs)("div",{className:"search-container",children:[(0,s.jsx)("input",{type:"text",className:"search-bar",placeholder:r,onChange:e=>{i(e.target.value),t(e.target.value)},onKeyDown:n}),(0,s.jsx)("button",{className:"search-button",onClick:e=>{o(e)},children:"⌕"})]})};h.propTypes={placeholder:i().string.isRequired,onChange:i().func.isRequired};var f=t(600),p=t(3206),m=t(7907);t(1316);var b=t(1291),g=()=>{let e=(0,m.useRouter)();return(0,s.jsx)(p.Z,{onClick:()=>{e.back()},children:(0,s.jsx)(b.Z,{})})},v=()=>{let{courseList:e,fetchAllCourses:r}=(0,f.Z)(),[t,o]=(0,a.useState)([]),[c,i]=(0,a.useState)("");(0,a.useEffect)(()=>{r()},[]),(0,a.useEffect)(()=>{u(c)},[e]);let u=r=>{Array.isArray(e)?o(e.filter(e=>e.courseName.toLowerCase().includes(r.toLowerCase())||e.professor.toLowerCase().includes(r.toLowerCase()))):(console.error("courseList is not an array",e),o([]))};return(0,s.jsx)(n.default,{title:"CoursesPage",children:(0,s.jsxs)("div",{className:"component-arrangement",children:[(0,s.jsxs)("div",{className:"fix-top",children:[(0,s.jsxs)("div",{className:"header-container",children:[(0,s.jsxs)("div",{className:"arrow-icon",children:[(0,s.jsx)(g,{})," "]}),(0,s.jsx)("div",{className:"header",children:"강의실"})]}),(0,s.jsx)("div",{className:"search-container-alignment",children:(0,s.jsx)(h,{placeholder:"교수명, 강의명 검색",onChange:e=>{i(e)},onKeyDown:e=>{"Enter"===e.key&&u(c)},onClick:()=>u(c)})})]}),(0,s.jsx)("div",{className:"courses-container",children:(0,s.jsx)(d,{courses:t})})]})})}},8836:function(e,r,t){"use strict";t.r(r);var s=t(7437),a=t(828),n=t(4298);r.default=e=>{let{title:r,children:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("title",{children:"".concat(r)}),(0,s.jsx)(a.zt,{store:n.h,children:t})]})}},5721:function(e,r,t){"use strict";t.d(r,{b:function(){return s}});let s={COURSER_REVIEW:"/api/v1/course-reviews",COURSE_LIST:"http://3.27.241.70:8000/api/v1/courses",SHOW_TIMETABLE:"/api/v1/timetables/1",REVIEW_REGISTER:"/api/v1/course-reviews"}},600:function(e,r,t){"use strict";var s=t(828),a=t(1777);r.Z=()=>{let e=(0,s.I0)();return{fetchAllCourses:()=>{e((0,a.gS)())},courseList:(0,s.v9)(e=>e.courses.courseList)}}},1777:function(e,r,t){"use strict";t.d(r,{gS:function(){return c}});var s=t(8166),a=t(5721),n=t(4431),o=t(7564);let c=(0,s.hg)("courses/fetchCourses",async(e,r)=>{let{rejectWithValue:t}=r;try{let e=await n.h.get(a.b.COURSE_LIST),r=(0,o.T)(e.data);return console.log(r.data.courses),r.data.courses}catch(e){return t(e instanceof Error?e.message:"An error has occurred.")}}),i=(0,s.oM)({name:"courses",initialState:{courseList:[]},reducers:{},extraReducers:e=>{e.addCase(c.fulfilled,(e,r)=>{e.courseList=r.payload}).addCase(c.rejected,(e,r)=>{console.error(r.payload)})}});r.ZP=i.reducer},719:function(e,r,t){"use strict";t.d(r,{O9:function(){return i},XB:function(){return l},kG:function(){return c}});var s=t(8166),a=t(5721),n=t(4431),o=t(7564);let c=(0,s.hg)("review/createReviewList",async(e,r)=>{let{rejectWithValue:t}=r;try{let r=decodeURIComponent(e.courseName),t=decodeURIComponent(e.professor),s=await n.h.get(a.b.COURSER_REVIEW,{params:{course_name:r,professor:t}});return Array.isArray(s.data.data.course_reviews)?s.data.data.course_reviews.map(e=>({...(0,o.T)(e),courseReviewId:e.course_id})):[]}catch(e){return t(e instanceof Error?e.message:"An error has occurred.")}}),i=(0,s.hg)("registration/createCourseReview",async(e,r)=>{let{rejectWithValue:t}=r;try{let r=await n.h.post(a.b.REVIEW_REGISTER,e);console.log(r.status),alert("등록되었습니다.")}catch(e){if(e.response){let{status:r}=e.response;switch(r){case 400:alert("중복된 값입니다.");break;case 401:alert("인증에 실패했습니다.");break;case 403:alert("접근 권한이 없습니다.");break;case 404:alert("리소스를 찾을 수 없습니다.");break;case 500:alert("서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요.");break;default:alert("알 수 없는 오류가 발생했습니다. 잠시 후 다시 시도해주세요.")}return t(e.response.data)}return e.request?alert("서버로부터 응답이 없습니다. 네트워크 상태를 확인해주세요."):alert("요청을 보내는 중에 오류가 발생했습니다."),console.log(e.message),t(e instanceof Error?e.message:"An error has occurred.")}}),u=(0,s.oM)({name:"review",initialState:{reviewList:[]},reducers:{},extraReducers:e=>{e.addCase(c.fulfilled,(e,r)=>{e.reviewList=Array.isArray(r.payload)?r.payload:[]}).addCase(c.rejected,e=>{e.reviewList=[]})}}),l=e=>e.review;r.ZP=u.reducer},9892:function(e,r,t){"use strict";t.d(r,{Cr:function(){return c},Ut:function(){return u}});var s=t(8166),a=t(5721),n=t(4431),o=t(7564);let c=(0,s.hg)("bottomSheet/createBottomSheetCourseList",async(e,r)=>{let{rejectWithValue:t}=r;try{let e=await n.h.get(a.b.COURSE_LIST);return(0,o.T)(e.data).data.courses}catch(e){return t(e instanceof Error?e.message:"An error has occurred.")}}),i=(0,s.oM)({name:"bottomSheetCourse",initialState:{bottomSheetCourseList:[]},reducers:{},extraReducers:e=>{e.addCase(c.fulfilled,(e,r)=>{e.bottomSheetCourseList=r.payload}).addCase(c.rejected,(e,r)=>{console.error(r.payload)})}}),u=e=>e.bottomSheetCourses.bottomSheetCourseList;r.ZP=i.reducer},3848:function(e,r,t){"use strict";t.d(r,{Ut:function(){return u},rt:function(){return c}});var s=t(8166),a=t(5721),n=t(4431),o=t(7564);let c=(0,s.hg)("timetable/createTimetableList",async(e,r)=>{let{rejectWithValue:t}=r;try{let e=await n.h.get(a.b.SHOW_TIMETABLE);return(0,o.T)(e.data)}catch(e){return t(e instanceof Error?e.message:"An error has occurred.")}});(0,s.hg)("registration/postCourseCode",async(e,r)=>{let{rejectWithValue:t}=r;try{let r=await n.h.post(a.b.SHOW_TIMETABLE,e);console.log(r.status),alert("등록되었습니다.")}catch(e){if(e.response){let{status:r}=e.response;switch(r){case 400:alert("중복된 값입니다.");break;case 401:alert("인증에 실패했습니다.");break;case 403:alert("접근 권한이 없습니다.");break;case 404:alert("리소스를 찾을 수 없습니다.");break;case 500:alert("서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요.");break;default:alert("알 수 없는 오류가 발생했습니다. 잠시 후 다시 시도해주세요.")}return t(e.response.data)}return e.request?alert("서버로부터 응답이 없습니다. 네트워크 상태를 확인해주세요."):alert("요청을 보내는 중에 오류가 발생했습니다."),console.log(e.message),t(e instanceof Error?e.message:"An error has occurred.")}});let i=(0,s.oM)({name:"timetable",initialState:{timetableList:[]},reducers:{},extraReducers:e=>{e.addCase(c.fulfilled,(e,r)=>{e.timetableList=r.payload.data.courses}).addCase(c.rejected,e=>{e.timetableList=[]})}}),u=e=>e.timetable;r.ZP=i.reducer},4298:function(e,r,t){"use strict";t.d(r,{h:function(){return l}});var s=t(8166),a=t(3646),n=t(719),o=t(3848),c=t(1777),i=t(9892);let u=(0,a.UY)({review:n.ZP,timetable:o.ZP,courses:c.ZP,bottomSheetCourses:i.ZP}),l=(0,s.xC)({reducer:u})},4431:function(e,r,t){"use strict";t.d(r,{h:function(){return a}});var s=t(7908);t(9704),t(5721);let a=s.Z.create({baseURL:"http://3.27.241.70:8000/"})},7564:function(e,r,t){"use strict";t.d(r,{T:function(){return s}});let s=e=>{if(Array.isArray(e))return e.map(e=>s(e));if(null!==e&&e.constructor===Object){let r={};return Object.keys(e).forEach(t=>{r[t.replace(/_([a-z])/g,(e,r)=>r.toUpperCase())]=s(e[t])}),r}return e}},1296:function(){},1316:function(){}},function(e){e.O(0,[390,194,229,343,971,69,744],function(){return e(e.s=1549)}),_N_E=e.O()}]);